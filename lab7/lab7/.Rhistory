knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(skimr)
amniota <- readr::read_csv("data/amniota.csv")
amphibio <- readr::read_csv("data/amphibio.csv")
amphibio <- readr::read_csv("data/amphibio.csv")
glimpse(amniota)
anyNA(amniota)
glimpse(amphibio)
msleep %>%
summarize(number_nas = sum(is.na(msleep)))
msleep %>%
summarise_all(~(sum(is.na(.))))
msleep %>%
purrr::map_df(~ sum(is.na(.))) #map to a new data frame the sum results of the is.na function for all columns
msleep %>%
purrr::map_df(~ sum(is.na(.))) %>%
pivot_longer(everything(),
names_to= "variables",
values_to = "num_nas") %>%
arrange(desc(num_nas))
amniota_tidy <- amniota %>%
na_if("-999")
amniota_tidy %>%
summarise_all(~(sum(is.na(.))))
amniota_tidy %>%
purrr::map_df(~ sum(is.na(.))) %>%
pivot_longer(everything(),
names_to= "variables",
values_to = "num_nas") %>%
arrange(desc(num_nas))
msleep %>%
count(conservation, sort=T)
msleep %>%
mutate(conservation_modified = na_if(conservation, "domesticated"))%>%
count(conservation_modified, sort = T) #previously there were only 29 NA's
library(visdat)
vis_dat(life_history) #classes of data
life_history <- read_csv("data/mammal_lifehistories_v3.csv") %>% clean_names()
naniar::miss_var_summary(life_history)
hist(life_history$max_life)
hist(life_history$max_life)
hist(life_history$max_life)
hist(life_history$max_life)
life_history <-
life_history %>%
mutate(max_life=na_if(max_life, 0))
naniar::miss_var_summary(life_history)
life_history %>%
group_by(order) %>%
select(order, wean_mass) %>%
naniar::miss_var_summary(order=T)
life_history %>%
naniar::replace_with_na(replace = list(newborn = "not measured", weaning= -999, wean_mass= -999, afr= -999, max_life= 0, litter_size= -999, gestation= -999, mass= -999)) %>%
naniar::miss_var_summary()
View(life_history)
life_history %>%
naniar::replace_with_na(replace = list(newborn = "not measured", weaning= -999, wean_mass= -999, afr= -999, max_life= 0, litter_size= -999, gestation= -999, mass= -999)) %>%
naniar::miss_var_summary()
View(life_history)
amniota <- readr::read_csv("data/amniota.csv")
amphibio <- readr::read_csv("data/amphibio.csv")
naniar::miss_var_summary(amniota)
hist(amniota$litter_or_clutch_size_n)
naniar::miss_var_summary(amphibio)
amniota_tidy <- amniota %>%
na_if("-999")
View(amniota_tidy)
naniar::miss_var_summary(amniota_tidy)
naniar::miss_var_summary(amphibio)
amniota_tidy %>%
group_by(class) %>%
select(class, egg_mass_g) %>%
```
amniota_tidy %>%
group_by(class) %>%
select(class, egg_mass_g) %>%
naniar::miss_var_summary()
View(amphibio)
amphibio
amphibio %>%
select(Fos, Ter, Aqu, Arb) %>%
naniar::miss_var_summary(order = T)
